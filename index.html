<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <base href="/" />
    <title>JAPA</title>
    <meta name="description" content="Smart parking solutions for universities, cities, and organizations" />
    <meta name="author" content="JAPA" />
    <meta property="og:image" content="/og-image.png" />
    
    <!-- Favicon -->
    <link rel="icon" href="/favicon.ico" />
    <link rel="icon" type="image/png" sizes="32x32" href="/lovable-uploads/location-pin.png" />
    <link rel="apple-touch-icon" href="/lovable-uploads/location-pin.png" />
    
    <!-- External Dependencies -->
    <script src="https://unpkg.com/zod@3.23.8/lib/index.umd.js"></script>
    <script>
      // Asegurar que zod sea accesible globalmente
      window.zod = window.zod || window.z;

      // Script de depuración para capturar errores
      window.addEventListener('error', function(e) {
        console.error('Error capturado globalmente:', e.error || e.message);
        document.body.innerHTML += '<div style="color:red; padding:20px; background:#f8f8f8; position:fixed; bottom:0; left:0; right:0; z-index:9999">Error: ' + (e.error?.message || e.message) + '</div>';
      });

      // Verificar si el root está disponible
      setTimeout(function() {
        const rootEl = document.getElementById('root');
        if (rootEl) {
          if (rootEl.childNodes.length === 0) {
            console.warn('Elemento root encontrado pero está vacío');
            document.body.innerHTML += '<div style="color:orange; padding:20px; background:#f8f8f8; position:fixed; top:0; left:0; right:0; z-index:9999">Advertencia: La aplicación no ha renderizado contenido en #root después de 3 segundos</div>';
          } else {
            console.log('Elemento root con contenido encontrado');
          }
        } else {
          console.error('Elemento root no encontrado');
        }
      }, 3000);
    </script>
  </head>

  <body>
    <div id="root"></div>
    <!-- GPT Engineer script - ahora con type="module" -->
    <script type="module" src="https://cdn.gpteng.co/gptengineer.js"></script>
    <!-- Usando el tipo module como requiere Vite -->
    <script type="module" src="/src/main.tsx"></script>

    <!-- Verificación simple para depuración -->
    <script>
      document.addEventListener('DOMContentLoaded', function() {
        console.log('DOM completamente cargado');
      });
    </script>
  </body>
</html>
